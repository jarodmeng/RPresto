<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="description" content="create_primitive_arrays_table() creates a dummy
table that has ARRAYs of primitive Presto data types.
create_primitive_maps_table() creates a dummy table that has
MAPs of primitive Presto data types.
create_primitive_types_table() creates a dummy table that has
primitive Presto data types.
create_primitive_rows_table() creates a dummy table that has all primitive
data types included in one ROW type column.
create_array_of_rows_table() creates a dummy table that has an ARRAY(ROW)
column that has 2 ROW elements, each containing all 17 supported primitive
data types.
create_array_of_maps_table() creates a dummy table that has 17 ARRAY(MAP)
columns, each of which has an ARRAY of 2 MAP elements."><title>Create dummy tables in Presto for testing — dummy_tables • RPresto</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.1.3/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.1.3/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- bootstrap-toc --><script src="https://cdn.rawgit.com/afeld/bootstrap-toc/v1.0.1/dist/bootstrap-toc.min.js"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Create dummy tables in Presto for testing — dummy_tables"><meta property="og:description" content="create_primitive_arrays_table() creates a dummy
table that has ARRAYs of primitive Presto data types.
create_primitive_maps_table() creates a dummy table that has
MAPs of primitive Presto data types.
create_primitive_types_table() creates a dummy table that has
primitive Presto data types.
create_primitive_rows_table() creates a dummy table that has all primitive
data types included in one ROW type column.
create_array_of_rows_table() creates a dummy table that has an ARRAY(ROW)
column that has 2 ROW elements, each containing all 17 supported primitive
data types.
create_array_of_maps_table() creates a dummy table that has 17 ARRAY(MAP)
columns, each of which has an ARRAY of 2 MAP elements."><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">RPresto</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">1.4.0</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="../articles/common-table-expressions.html">Common Table Expressions (CTEs)</a>
    <a class="dropdown-item" href="../articles/complex-types.html">Translating complex Presto data types</a>
    <a class="dropdown-item" href="../articles/primitive-types.html">Primitive Presto data types to R types</a>
  </div>
</li>
<li class="nav-item">
  <a class="nav-link" href="../news/index.html">Changelog</a>
</li>
      </ul><form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off"></form>

      <ul class="navbar-nav"><li class="nav-item">
  <a class="nav-link" href="https://github.com/prestodb/RPresto/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div>

    
  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="" class="logo" alt=""><h1>Create dummy tables in Presto for testing</h1>
      <small class="dont-index">Source: <a href="https://github.com/prestodb/RPresto/blob/HEAD/R/create.dummy.tables.R"><code>R/create.dummy.tables.R</code></a></small>
      <div class="d-none name"><code>dummy_tables.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p><code>create_primitive_arrays_table()</code> creates a dummy
table that has ARRAYs of primitive Presto data types.</p>
<p><code>create_primitive_maps_table()</code> creates a dummy table that has
MAPs of primitive Presto data types.</p>
<p><code>create_primitive_types_table()</code> creates a dummy table that has
primitive Presto data types.</p>
<p><code>create_primitive_rows_table()</code> creates a dummy table that has all primitive
data types included in one <code>ROW</code> type column.</p>
<p><code>create_array_of_rows_table()</code> creates a dummy table that has an <code>ARRAY(ROW)</code>
column that has 2 <code>ROW</code> elements, each containing all 17 supported primitive
data types.</p>
<p><code>create_array_of_maps_table()</code> creates a dummy table that has 17 <code>ARRAY(MAP)</code>
columns, each of which has an <code>ARRAY</code> of 2 <code>MAP</code> elements.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">create_primitive_arrays_table</span><span class="op">(</span></span>
<span>  <span class="va">con</span>,</span>
<span>  table_name <span class="op">=</span> <span class="st">"presto_primitive_arrays"</span>,</span>
<span>  time_zone <span class="op">=</span> <span class="st">"America/New_York"</span>,</span>
<span>  verbose <span class="op">=</span> <span class="cn">TRUE</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="fu">create_primitive_maps_table</span><span class="op">(</span></span>
<span>  <span class="va">con</span>,</span>
<span>  table_name <span class="op">=</span> <span class="st">"presto_primitive_maps"</span>,</span>
<span>  time_zone <span class="op">=</span> <span class="st">"America/New_York"</span>,</span>
<span>  verbose <span class="op">=</span> <span class="cn">TRUE</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="fu">create_primitive_types_table</span><span class="op">(</span></span>
<span>  <span class="va">con</span>,</span>
<span>  table_name <span class="op">=</span> <span class="st">"presto_primitive_types"</span>,</span>
<span>  time_zone <span class="op">=</span> <span class="st">"America/New_York"</span>,</span>
<span>  verbose <span class="op">=</span> <span class="cn">TRUE</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="fu">create_primitive_rows_table</span><span class="op">(</span></span>
<span>  <span class="va">con</span>,</span>
<span>  table_name <span class="op">=</span> <span class="st">"presto_primitive_rows"</span>,</span>
<span>  time_zone <span class="op">=</span> <span class="st">"America/New_York"</span>,</span>
<span>  verbose <span class="op">=</span> <span class="cn">TRUE</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="fu">create_array_of_rows_table</span><span class="op">(</span></span>
<span>  <span class="va">con</span>,</span>
<span>  table_name <span class="op">=</span> <span class="st">"presto_array_of_rows"</span>,</span>
<span>  time_zone <span class="op">=</span> <span class="st">"America/New_York"</span>,</span>
<span>  verbose <span class="op">=</span> <span class="cn">TRUE</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="fu">create_array_of_maps_table</span><span class="op">(</span></span>
<span>  <span class="va">con</span>,</span>
<span>  table_name <span class="op">=</span> <span class="st">"presto_array_of_maps"</span>,</span>
<span>  time_zone <span class="op">=</span> <span class="st">"America/New_York"</span>,</span>
<span>  verbose <span class="op">=</span> <span class="cn">TRUE</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>
    <dl><dt>con</dt>
<dd><p>A valid <code>PrestoConnection</code> object.</p></dd>


<dt>table_name</dt>
<dd><p>The resulting table name.</p></dd>


<dt>time_zone</dt>
<dd><p>Time zone string for data types that require a time zone.
Default to "America/New_York".</p></dd>


<dt>verbose</dt>
<dd><p>Boolean indicating whether messages should be printed. Default
to TRUE.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>We construct the <strong>arrays-of-primitive-types</strong> table by putting two different
values of the same type and a NULL value in an array. In this way, the three
values of the same type appear together in the source code and therefore are
easier to compare. For integer values, we use the theoretical lower bound
(i.e., minimum value) and the theoretical upper bound (i.e., maximum value)
as the two values. The field names are taken from the Presto data types they
represent.</p>
<p>Here's the complete primitive type values included in the table</p><table class="table table"><tr><td>Index</td><td>Column</td><td>Type</td><td>ARRAY values</td></tr><tr><td>1</td><td>boolean</td><td>BOOLEAN</td><td>[true, false, null]</td></tr><tr><td>2</td><td>tinyint</td><td>TINYINT</td><td>[-128, 127, null]</td></tr><tr><td>3</td><td>smallint</td><td>SMALLINT</td><td>[-32768, 32767, null]</td></tr><tr><td>4</td><td>integer</td><td>INTEGER</td><td>[-2147483647, 2147483647, null]</td></tr><tr><td>5</td><td>bigint</td><td>BIGINT</td><td>[-9007199254740991, 9007199254740991, null]</td></tr><tr><td>6</td><td>real</td><td>REAL</td><td>[1.0, 2.0, null]</td></tr><tr><td>7</td><td>double</td><td>DOUBLE</td><td>[1.0, 2.0, null]</td></tr><tr><td>8</td><td>varchar</td><td>VARCHAR</td><td>['abc', 'def', null]</td></tr><tr><td>9</td><td>char</td><td>CHAR</td><td>['a', 'b', null]</td></tr><tr><td>10</td><td>varbinary</td><td>VARBINARY</td><td>['abc', 'def', null]</td></tr><tr><td>11</td><td>date</td><td>DATE</td><td>['2000-01-01', '2000-01-02', null]</td></tr><tr><td>12</td><td>time</td><td>TIME</td><td>['01:02:03.456', '02:03:04.567', null]</td></tr><tr><td>13</td><td>time_with_tz</td><td>TIME WITH TIME ZONE</td><td>['01:02:03.456 \&lt;tz\&gt;', '02:03:04.567 \&lt;tz\&gt;', null]</td></tr><tr><td>14</td><td>timestamp</td><td>TIMESTAMP</td><td>['2000-01-01 01:02:03.456', '2000-01-02 02:03:04.567', null]</td></tr><tr><td>15</td><td>timestamp_with_tz</td><td>TIMESTAMP WITH TIME ZONE</td><td>['2000-01-01 01:02:03.456 \&lt;tz\&gt;', '2000-01-02 02:03:04.567 \&lt;tz\&gt;', null]</td></tr><tr><td>16</td><td>interval_year_to_month</td><td>INTERVAL YEAR TO MONTH</td><td>['14' MONTH, '28' MONTH, null]</td></tr><tr><td>17</td><td>interval_day_to_second</td><td>INTERVAL DAY TO SECOND</td><td>['2 4:5:6.500' DAY TO SECOND, '3 7:8:9.600' DAY TO SECOND, null]</td></tr></table><p>We construct the <strong>maps-of-primitive-types</strong> table by first creating a table
with ARRAYs of all primitive data types. We then use the MAP() function to
create the MAPs from ARRAYs.</p>
<p>We construct the <strong>primitive-types</strong> table by first creating a table with
ARRAYs of all primitive data types. We then use Presto's UNNEST() function to
expand the arrays into three separate rows. Each supported Presto data type
has three rows in the table so that the resulting R data frame is distinctly
different from a simple named list.</p>
<p>We construct the <strong>primitive-rows</strong> table by first creating a table with
all primitive data types. We then use Presto's <code>CAST(ROW() AS ROW())</code>
function to create the <code>ROW</code> column.</p>
<p>We construct the <strong>array-of-rows</strong> table by first creating a table with
a <code>ROW</code> type column that includes all 17 supported primitive data types. We
then use the <code>ARRAY[]</code> function to construct the 2-element <code>ARRAY(ROW)</code>
column.</p>
<p>We construct the <strong>array-of-maps</strong> table by first creating a table a
primitive <code>MAP</code> table and then calling the <code>ARRAY[]</code> function to create the
<code>ARRAY(MAP)</code> columns.</p>
    </div>

  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p></p><p>Developed by Onur Ismail Filiz, Sergey Goder, Thomas J. Leeper.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.6.</p>
</div>

    </footer></div>

  

  

  </body></html>

